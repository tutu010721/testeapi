<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tênis KNU Skate</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        :root {
            --orange-bg: #FF7B2E; --orange-text: #FFFFFF; --orange-highlight: #FFC73A;
            --tiktok-red: #FE2C55; --text-primary: #161823; --text-secondary: #5C5E67;
            --text-tertiary: rgba(22, 24, 35, 0.5); --bg-primary: #FFFFFF; --bg-secondary: #F1F1F2;
            --border-color: #EFEFF0; --green-secure: #25D366; --star-yellow: #FFC800;
            --disabled-color: #C9C9CF;
        }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; margin: 0; background-color: var(--bg-secondary); color: var(--text-primary); }
        main { padding-top: 60px; padding-bottom: 80px; }
        .icon { width: 24px; height: 24px; stroke-width: 2; color: var(--text-primary); flex-shrink: 0; }
        
        header.main-header {
            position: fixed; top: 0; left: 0; right: 0; z-index: 100;
            display: flex; align-items: center; justify-content: space-between;
            padding: 8px 16px; height: 44px;
            background-color: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
        }
        .header-icon {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
            cursor: pointer;
        }
        .header-title {
            font-weight: 500;
            color: var(--text-secondary);
        }
        .header-icons-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .carousel-container { position: relative; width: 100%; overflow: hidden; aspect-ratio: 1/1; }
        .carousel-slider { height: 100%; display: flex; transition: transform 0.4s ease-in-out; touch-action: pan-y; }
        .carousel-slider img { width: 100%; height: 100%; object-fit: cover; flex-shrink: 0; }
        .carousel-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 0.7);
            border: none; border-radius: 50%;
            width: 32px; height: 32px;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; z-index: 10;
        }
        .carousel-btn.prev { left: 10px; }
        .carousel-btn.next { right: 10px; }
        .carousel-btn .icon { width: 20px; height: 20px; }
        .carousel-pagination { position: absolute; bottom: 12px; left: 50%; transform: translateX(-50%); display: flex; gap: 6px; }
        .pagination-dot { width: 8px; height: 8px; border-radius: 50%; background-color: rgba(255, 255, 255, 0.6); }
        .pagination-dot.active { background-color: var(--bg-primary); }

        .content-section { background-color: var(--bg-primary); margin-bottom: 8px; padding: 16px; }
        .product-title { font-size: 16px; font-weight: 600; line-height: 1.5; margin-top: 12px; }
        .product-meta-info { font-size: 14px; color: var(--text-secondary); display: flex; align-items: center; gap: 8px; margin-top: 8px; flex-wrap: wrap; }
        .product-stats { display: flex; align-items: center; gap: 8px; }
        .product-stats .rating-value { font-weight: 600; color: var(--text-primary); }
        .product-stats .rating-stars { display: flex; gap: 2px; }
        .product-stats .rating-stars .star-icon { width: 16px; height: 16px; }
        .product-stats .rating-stars .star-icon.filled { fill: var(--star-yellow); }
        .product-stats .rating-stars .star-icon.half-filled { fill: url(#half-star-gradient); }
        .divider { border-left: 1px solid var(--border-color); height: 12px; }
        .flash-deal-section { background-color: var(--orange-bg); color: var(--orange-text); padding: 12px 16px; }
        .price-line { display: flex; align-items: baseline; gap: 10px; }
        .flash-deal-section .original-price { font-size: 18px; text-decoration: line-through; opacity: 0.8; }
        .flash-deal-section .current-price { font-size: 24px; font-weight: 700; }
        .flash-deal-tag { background-color: rgba(255, 255, 255, 0.2); border-radius: 20px; padding: 4px 10px; font-size: 12px; display: inline-flex; align-items: center; gap: 4px; }
        .flash-deal-tag .icon { width: 12px; height: 12px; fill: var(--orange-highlight); }
        .deal-info-line { display: flex; justify-content: space-between; align-items: center; margin-top: 8px; font-size: 14px; font-weight: 500; }
        .countdown-timer { background-color: rgba(0,0,0,0.2); padding: 2px 6px; border-radius: 4px; }
        .shipping-info-section .info-line { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; font-size: 14px; }
        .shipping-info-section .info-line:last-child { margin-bottom: 0; }
        .shipping-info-section .left-content { display: flex; align-items: center; gap: 12px; }
        .shipping-info-section .info-line .icon { color: var(--green-secure); }
        .shipping-info-section .text-group { display: flex; flex-direction: column; }
        .shipping-info-section .main-text { font-weight: 500; color: var(--green-secure); }
        .shipping-info-section .sub-text { font-size: 13px; color: var(--text-secondary); }
        .shipping-info-section .devolucoes .main-text { color: var(--text-primary); }
        .clickable-section { display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .clickable-section .left-content .main-text { font-size: 15px; font-weight: 500; color: var(--text-primary); }
        .clickable-section .right-content { display: flex; align-items: center; gap: 8px; color: var(--text-tertiary); font-size: 15px; }
        .reviews-section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
        .reviews-section-header h2 { font-size: 16px; font-weight: 600; margin: 0; }
        .review-card { padding: 16px 0; border-bottom: 1px solid var(--border-color); }
        .review-card:first-of-type { padding-top: 0; }
        .review-card:last-child { border-bottom: none; padding-bottom: 0; }
        .review-author { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .review-author-info { display: flex; align-items: center; gap: 10px; }
        .review-author-info img { width: 32px; height: 32px; border-radius: 50%; object-fit: cover; }
        .review-author-info span { font-size: 14px; font-weight: 600; }
        .review-stars { display: flex; gap: 2px; }
        .review-stars .star-icon { width: 14px; height: 14px; fill: var(--star-yellow); }
        .review-item-details { font-size: 12px; color: var(--text-tertiary); margin-bottom: 8px; }
        .review-text { font-size: 15px; line-height: 1.5; margin-bottom: 12px; }
        .review-images { display: flex; gap: 8px; overflow-x: auto; }
        .review-images img { width: 72px; height: 72px; border-radius: 4px; object-fit: cover; }
        .review-date { font-size: 12px; color: var(--text-tertiary); margin-top: 12px; }
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 1000; display: none; opacity: 0; transition: opacity 0.3s ease; }
        .modal-container { position: fixed; bottom: 0; left: 0; right: 0; background-color: var(--bg-primary); z-index: 1001; border-radius: 16px 16px 0 0; padding: 16px; transform: translateY(100%); transition: transform 0.3s ease; }
        .modal-overlay.visible { display: block; opacity: 1; }
        .modal-container.visible { transform: translateY(0); }
        .modal-header { display: flex; align-items: flex-start; gap: 12px; padding-bottom: 16px; border-bottom: 1px solid var(--border-color); position: relative; }
        .modal-product-img { width: 80px; height: 80px; border-radius: 4px; }
        .modal-close-btn { position: absolute; top: 0; right: 0; cursor: pointer; width: 28px; height: 28px; }
        .modal-section { padding: 16px 0; border-bottom: 1px solid var(--border-color); }
        .modal-section:last-of-type { border-bottom: none; }
        .modal-section h3 { font-size: 15px; margin: 0 0 12px 0; }
        .size-options { display: flex; flex-wrap: wrap; gap: 10px; }
        .size-btn { padding: 8px 16px; border: 1px solid var(--border-color); background-color: var(--bg-secondary); border-radius: 4px; cursor: pointer; font-weight: 500; }
        .size-btn.active { border-color: var(--tiktok-red); background-color: #FFF2F4; color: var(--tiktok-red); }
        .quantity-selector { display: flex; justify-content: space-between; align-items: center; }
        .quantity-controls { display: flex; align-items: center; border: 1px solid var(--border-color); border-radius: 4px; }
        .quantity-btn { border: none; background: none; font-size: 20px; width: 32px; height: 32px; cursor: pointer; color: var(--text-primary); }
        .quantity-btn:disabled { color: var(--disabled-color); cursor: not-allowed; }
        .quantity-value { font-size: 16px; font-weight: 600; padding: 0 16px; }
        #modal-confirm-btn { width: 100%; padding: 14px; margin-top: 16px; background-color: var(--tiktok-red); color: white; border: none; border-radius: 4px; font-size: 16px; font-weight: 600; cursor: pointer; }
        #modal-confirm-btn:disabled { background-color: var(--disabled-color); cursor: not-allowed; }
        footer.action-footer { position: fixed; bottom: 0; left: 0; right: 0; z-index: 90; display: flex; padding: 12px 16px; background-color: var(--bg-primary); border-top: 1px solid var(--border-color); }
        .footer-btn { flex-grow: 1; border: none; background-color: var(--tiktok-red); color: #ffffff; padding: 12px; border-radius: 4px; font-size: 16px; font-weight: 700; cursor: pointer; }
    </style>
</head>
<body>
    <svg width="0" height="0" style="position:absolute"><defs><linearGradient id="half-star-gradient" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="50%" stop-color="var(--star-yellow)" /><stop offset="50%" stop-color="var(--border-color)" /></linearGradient></defs></svg>

    <header class="main-header">
        <svg class="header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="15 18 9 12 15 6"></polyline></svg>
        <div class="header-icons-right">
            <svg class="header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
            <svg class="header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 4a2 2 0 012-2h6a2 2 0 012 2v2a2 2 0 01-2 2H9a2 2 0 01-2-2V4z"/><path d="M5.75 8a2 2 0 00-2 2v10a2 2 0 002 2h12.5a2 2 0 002-2V10a2 2 0 00-2-2H5.75z"/></svg>
            <svg class="header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>
        </div>
    </header>

    <main>
        <section class="carousel-container" id="product-carousel">
            <div class="carousel-slider">
                <img src="https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/e42d80beacec4087bb1a7172ed6fe5dc~tplv-aphluv4xwc-resize-webp:800:800.webp" alt="Tênis KNU Skate - Imagem 1">
                <img src="https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/74324eb384ec477b8eccea8910a7b5ee~tplv-aphluv4xwc-resize-webp:800:800.webp" alt="Tênis KNU Skate - Imagem 2">
                <img src="https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/4b934462da28482896f515ca9f775dc7~tplv-aphluv4xwc-resize-webp:800:800.webp" alt="Tênis KNU Skate - Imagem 3">
                <img src="https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/be1b71d95e7a486e99dd6de7ff1cf5ec~tplv-aphluv4xwc-resize-webp:800:800.webp" alt="Tênis KNU Skate - Imagem 4">
                <img src="https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/cda42dc025594355aaaad9fb3a6b8286~tplv-aphluv4xwc-resize-webp:800:800.webp" alt="Tênis KNU Skate - Imagem 5">
                <img src="https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/91cd95d3d0ae48d081c3289149208fa2~tplv-aphluv4xwc-resize-webp:800:800.webp" alt="Tênis KNU Skate - Imagem 6">
                <img src="https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/ea3aa7d877a94a158585c88815906412~tplv-aphluv4xwc-resize-webp:800:800.webp" alt="Tênis KNU Skate - Imagem 7">
            </div>
            <button class="carousel-btn prev" id="prev-btn"><svg class="icon" viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"></polyline></svg></button>
            <button class="carousel-btn next" id="next-btn"><svg class="icon" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"></polyline></svg></button>
            <div class="carousel-pagination"></div>
        </section>
        
        <section class="flash-deal-section">
            <div class="price-line">
                <span class="original-price">R$ 249,83</span>
                <span class="current-price">R$ 47,39</span>
                <div class="flash-deal-tag">
                    <svg class="icon" viewBox="0 0 24 24" fill="var(--orange-highlight)"><path d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                    <span>Oferta Relâmpago</span>
                </div>
            </div>
            <div class="deal-info-line">
                <span>Economize até 71%</span>
                <span>Termina em <span class="countdown-timer" id="countdown"></span></span>
            </div>
        </section>

        <section class="content-section">
            <h1 class="product-title">Tênis KNU Skate Casual Resistente Macio e Leve Frete Rápido</h1>
            <div class="product-meta-info">
                <div class="product-stats">
                    <span class="rating-value">4.8</span>
                    <div class="rating-stars">
                        <svg class="star-icon filled" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                        <svg class="star-icon filled" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                        <svg class="star-icon filled" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                        <svg class="star-icon filled" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                        <svg class="star-icon half-filled" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    </div>
                    <span>(119)</span>
                    <div class="divider"></div>
                    <span>2.3K vendido</span>
                </div>
            </div>
        </section>

        <section class="content-section clickable-section" id="open-modal-btn">
            <div class="left-content"><span class="main-text">Selecionar opções</span></div>
            <div class="right-content subtle"><span>Selecione</span><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="9 18 15 12 9 6"></polyline></svg></div>
        </section>

        <section class="content-section shipping-info-section">
            <div class="info-line">
                <div class="left-content">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M1 3h15v13H1z"/><path d="M16 8h4l3 3v5h-7V8z"/><circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/></svg>
                    <div class="text-group">
                        <span class="main-text">Frete grátis</span>
                        <span class="sub-text">Receba até 17 de Jul - 18 de Jul</span>
                    </div>
                </div>
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="9 18 15 12 9 6"></polyline></svg>
            </div>
            <div class="info-line devolucoes">
                <div class="left-content">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                    <div class="text-group">
                        <span class="main-text">Devoluções gratuitas em 30 dias</span>
                    </div>
                </div>
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="9 18 15 12 9 6"></polyline></svg>
            </div>
        </section>
        
        <section class="content-section" id="reviews-section">
            <div class="reviews-section-header clickable-section"><h2>Avaliações (119)</h2><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="9 18 15 12 9 6"></polyline></svg></div>
        </section>
        
        <section class="content-section about-shop-section">
            <img src="https://logos-world.net/wp-content/uploads/2020/05/Vans-Logo-1966.png" alt="Logo da loja" class="shop-avatar">
            <span class="shop-name">Vans</span>
        </section>

        <section class="product-description-section">
            <h2>Descrição do produto</h2>
            <p class="product-description-text">
                O Tênis Knu Skool é uma releitura moderna de um estilo clássico dos anos 90, marcado pela sua lingueta acolchoada e sidestripe moldada em 3D. Com seu perfil "Off The Wall", este tênis de cano baixo e amarrar possui cabedal resistente de camurça e lona, puxadores no calcanhar para facilitar a entrada e o solado Waffle de borracha exclusivo da marca.
            </p>
            <h2>TABELA DE MEDIDAS</h2>
            <img src="https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/84d99d5f4d2f433d88046ba439244c26~tplv-aphluv4xwc-resize-webp:800:708.webp" alt="Tabela de Medidas" class="product-description-image">
        </section>
    </main>
    <footer class="action-footer">
        <button class="footer-btn" id="buy-now-button">Comprar agora</button>
    </footer>

    <div class="modal-overlay" id="modal-overlay"></div>
    <div class="modal-container" id="modal-container">
        <div class="modal-header">
            <img src="https://paccshop.com/cdn/shop/files/Captura_de_tela_2024-05-23_104245_100x.png?v=1716468205" class="modal-product-img">
            <div class="price-container">
                <span class="current-price">R$ 47,39</span>
            </div>
            <svg class="modal-close-btn" id="modal-close-btn" viewBox="0 0 24 24" fill="none" stroke="currentColor"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </div>
        <div class="modal-section">
            <h3>Tamanhos</h3>
            <div class="size-options" id="size-options">
                <button class="size-btn">33</button><button class="size-btn">34</button><button class="size-btn">35</button><button class="size-btn">36</button><button class="size-btn">37</button><button class="size-btn">38</button><button class="size-btn">39</button><button class="size-btn">40</button><button class="size-btn">41</button><button class="size-btn">42</button><button class="size-btn">43</button><button class="size-btn">44</button>
            </div>
        </div>
        <div class="modal-section quantity-selector">
            <h3>Quantidade</h3>
            <div class="quantity-controls">
                <button class="quantity-btn" id="decrease-qty" disabled>&minus;</button>
                <span class="quantity-value" id="quantity-value">1</span>
                <button class="quantity-btn" id="increase-qty">&plus;</button>
            </div>
        </div>
        <button id="modal-confirm-btn" disabled>Confirmar</button>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- DADOS ---
    const productImages = [
        "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/e42d80beacec4087bb1a7172ed6fe5dc~tplv-aphluv4xwc-resize-webp:800:800.webp",
        "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/74324eb384ec477b8eccea8910a7b5ee~tplv-aphluv4xwc-resize-webp:800:800.webp",
        "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/4b934462da28482896f515ca9f775dc7~tplv-aphluv4xwc-resize-webp:800:800.webp",
        "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/be1b71d95e7a486e99dd6de7ff1cf5ec~tplv-aphluv4xwc-resize-webp:800:800.webp",
        "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/cda42dc025594355aaaad9fb3a6b8286~tplv-aphluv4xwc-resize-webp:800:800.webp",
        "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/91cd95d3d0ae48d081c3289149208fa2~tplv-aphluv4xwc-resize-webp:800:800.webp",
        "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/ea3aa7d877a94a158585c88815906412~tplv-aphluv4xwc-resize-webp:800:800.webp"
    ];
    const reviewData = [
        { avatar: "https://randomuser.me/api/portraits/women/3.jpg", name: "m***3", item: "KNU, 37", text: "entrega rápido, bom pelo preço super indico", image: "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/c65a5cc2c77542d19bef84eebc618230~tplv-aphluv4xwc-resize-jpeg:350:350.jpeg", date: "há 4 dias" },
        { avatar: "https://randomuser.me/api/portraits/men/7.jpg", name: "L***a", item: "KNU, 38", text: "Veio no tamanho certo e confortável e não demorou pra entregar", image: "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/1601f4f147d94c529308ca4dd5c9da41~tplv-aphluv4xwc-resize-jpeg:350:350.jpeg", date: "há 1 semana" },
        { avatar: "https://randomuser.me/api/portraits/women/9.jpg", name: "A***e", item: "KNU, 40", text: "Eu ameiiiiiiii lindo mesmo! Comprei ele na promoção", image: "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/d70ba8de99cd48af8e19982edc856989~tplv-aphluv4xwc-resize-jpeg:350:350.jpeg", date: "há 1 semana" },
        { avatar: "https://randomuser.me/api/portraits/men/12.jpg", name: "P***a", item: "KNU, 38", text: "Muito estiloso, cadarço grosso como no anúncio. Recomendo!", image: "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/80bce918de7144bf88d173d66685aea3~tplv-aphluv4xwc-resize-jpeg:350:350.jpeg", date: "há 2 semanas" },
        { avatar: "https://randomuser.me/api/portraits/women/14.jpg", name: "J***e", item: "KNU, 39", text: "É bonito, mas a forma é um pouco pequena. Aconselho pegar um número maior.", image: "https://p16-oec-sg.ibyteimg.com/tos-alisg-i-aphluv4xwc-sg/79856a06bad04ddd8ab423bed9ceedb8~tplv-aphluv4xwc-resize-jpeg:350:350.jpeg", date: "há 3 semanas" }
    ];

    // --- SELETORES DO DOM ---
    const carouselSlider = document.querySelector('#product-carousel .carousel-slider');
    const paginationContainer = document.querySelector('#product-carousel .carousel-pagination');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const reviewsContainer = document.getElementById('reviews-section');
    
    // --- LÓGICA DO CARROSSEL ---
    let currentIndex = 0;
    productImages.forEach(url => {
        const img = document.createElement('img');
        img.src = url;
        carouselSlider.appendChild(img);
    });

    for (let i = 0; i < productImages.length; i++) {
        const dot = document.createElement('div');
        dot.classList.add('pagination-dot');
        dot.addEventListener('click', () => goToSlide(i));
        paginationContainer.appendChild(dot);
    }
    const paginationDots = paginationContainer.querySelectorAll('.pagination-dot');
    
    function goToSlide(index) {
        if (index < 0) index = productImages.length - 1;
        if (index >= productImages.length) index = 0;
        
        currentIndex = index;
        carouselSlider.style.transform = `translateX(-${currentIndex * 100}%)`;
        paginationDots.forEach(d => d.classList.remove('active'));
        paginationDots[currentIndex].classList.add('active');
    }
    goToSlide(0); 

    prevBtn.addEventListener('click', () => goToSlide(currentIndex - 1));
    nextBtn.addEventListener('click', () => goToSlide(currentIndex + 1));

    let touchStartX = 0;
    carouselSlider.addEventListener('touchstart', e => { touchStartX = e.changedTouches[0].screenX; }, { passive: true });
    carouselSlider.addEventListener('touchend', e => {
        const touchEndX = e.changedTouches[0].screenX;
        if (touchStartX - touchEndX > 50) { goToSlide(currentIndex + 1); }
        if (touchStartX - touchEndX < -50) { goToSlide(currentIndex - 1); }
    });

    // --- LÓGICA DAS AVALIAÇÕES ---
    reviewData.forEach(review => {
        const card = document.createElement('div');
        card.className = 'review-card';
        card.innerHTML = `<div class="review-author"><div class="review-author-info"><img src="${review.avatar}" alt="Avatar"><span>${review.name}</span></div><div class="review-stars"><svg class="star-icon" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg><svg class="star-icon" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg><svg class="star-icon" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg><svg class="star-icon" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg><svg class="star-icon" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg></div></div><div class="review-item-details">Item: ${review.item}</div><p class="review-text">${review.text}</p><div class="review-images"><img src="${review.image}" alt="Foto da avaliação"></div><div class="review-date">${review.date}</div>`;
        reviewsContainer.appendChild(card);
    });

    // --- LÓGICA DO MODAL ---
    const openModalBtn = document.getElementById('open-modal-btn');
    const closeModalBtn = document.getElementById('modal-close-btn');
    const overlay = document.getElementById('modal-overlay');
    const modalContainer = document.getElementById('modal-container');
    const confirmBtn = document.getElementById('modal-confirm-btn');
    const sizeOptionsContainer = document.getElementById('size-options');
    const selectedSizeText = document.querySelector('#open-modal-btn .right-content span');
    const decreaseQtyBtn = document.getElementById('decrease-qty');
    const increaseQtyBtn = document.getElementById('increase-qty');
    const quantityValueSpan = document.getElementById('quantity-value');
    let selectedSize = null;
    let quantity = 1;

    const openModal = () => { overlay.classList.add('visible'); modalContainer.classList.add('visible'); };
    const closeModal = () => { overlay.classList.remove('visible'); modalContainer.classList.remove('visible'); };
    
    const updateQuantity = (change) => {
        let newQuantity = quantity + change;
        if(newQuantity > 0) {
            quantity = newQuantity;
            quantityValueSpan.textContent = quantity;
            decreaseQtyBtn.disabled = (quantity === 1);
        }
    };

    const handleSizeSelection = (e) => {
        if (e.target.classList.contains('size-btn')) {
            document.querySelectorAll('.size-btn.active').forEach(btn => btn.classList.remove('active'));
            e.target.classList.add('active');
            selectedSize = e.target.textContent;
            confirmBtn.disabled = false;
        }
    };

    const handleConfirm = () => {
        if (selectedSize) {
            selectedSizeText.textContent = `Tamanho ${selectedSize}`;
            closeModal();
        }
    };
    
    openModalBtn.addEventListener('click', openModal);
    closeModalBtn.addEventListener('click', closeModal);
    overlay.addEventListener('click', closeModal);
    sizeOptionsContainer.addEventListener('click', handleSizeSelection);
    confirmBtn.addEventListener('click', handleConfirm);
    increaseQtyBtn.addEventListener('click', () => updateQuantity(1));
    decreaseQtyBtn.addEventListener('click', () => updateQuantity(-1));
    
    // --- LÓGICA DO BOTÃO COMPRAR ---
    const buyButton = document.getElementById('buy-now-button');
    buyButton.addEventListener('click', () => {
        if (!selectedSize) {
            alert("Por favor, selecione um tamanho antes de comprar.");
            openModal();
            return;
        }

        const productData = {
            name: "Tênis KNU Skate Casual",
            variant: `KNU, ${selectedSize}`,
            price: '47.39',
            originalPrice: '249.83',
            image: "https://paccshop.com/cdn/shop/files/Captura_de_tela_2024-05-23_104245_100x.png?v=1716468205",
            quantity: quantity,
            seller: "Vans"
        };
        localStorage.setItem('cartItem', JSON.stringify(productData));
        window.location.href = 'carrinho.html';
    });
    
    // --- LÓGICA DO CRONÔMETRO ---
    function startCountdown() {
        const countdownElement = document.getElementById('countdown');
        if(!countdownElement) return;
        let duration = (4 * 60) + 41;
        
        const interval = setInterval(() => {
            if(duration <= 0) {
                clearInterval(interval);
                countdownElement.textContent = "00:00";
                return;
            }
            duration--;
            const minutes = String(Math.floor(duration / 60)).padStart(2, '0');
            const seconds = String(duration % 60).padStart(2, '0');
            countdownElement.textContent = `${minutes}:${seconds}`;
        }, 1000);
    }

    startCountdown();
});
</script>
</body>
</html>
